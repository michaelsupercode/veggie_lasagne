(()=>{var e={4470:function(e){var t=String,r=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};e.exports=r(),e.exports.createColors=r},4406:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u=[],l=!1,c=-1;function d(){if(!!l&&!!n)l=!1,n.length?u=n.concat(u):c=-1,u.length&&h()}function h(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,l=!1,!function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1===u.length&&!l&&a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},9302:function(e,t,r){var n={"./ShareButton.module":["6146","6218"],"./SsoScript.module":["3813","9712"],"./TrackingScript.module":["1910","4946","442"],"./NncNavigationMenu.module":["1433","7746"],"./":["9440","3336","6647","4417","5924","9273","2017","7319"],"./Theme.module.ts":["3459","5479"],"./Accordion.module":["6433","8339"],"./ThemeSelect.module.ts":["4567","8359"],"./index.ts":["9440","3336","6647","4417","5924","9273","2017","7319"],"./PianoCustomVariable.module":["6176","7832"],"./PianoRecoWidget.module":["2092","6717"],"./EPaperLandingpageOpenerLogin.module.ts":["8779","8099"],"./PianoMyAccount.module":["2377","7042"],"./PianoArticleData.module.ts":["7797","3246"],"./PianoArticleData.module":["7797","3246"],"./InsertDelayed.module":["225","9865"],"./Breadcrumb.module.ts":["6638","841"],"./TextToSpeech.module.ts":["7645","3871"],"./PurScript.module.ts":["3894","4510"],"./PianoScript.module.ts":["1492","5924","4059"],"./PodcastPlayerSession.module.ts":["9169","8126"],"./VideoYoutubePlayer.module.ts":["4380","9061"],"./RegionalPickerTooltip.module.ts":["2871","5763"],"./SparkAdConfig.module":["2926","6428"],"./BreakingNews.module":["9661","7696"],"./IndexSubnavigationMobile.module":["6471","6200"],"./TextToSpeech.module":["7645","3871"],"./Modal.module.ts":["5992","9340"],"./Accordion.module.ts":["6433","8339"],"./SelectBox.module":["3337","8681"],"./TopicSelection.module.ts":["2575","1338"],"./NncNavigationMenu.module.ts":["1433","7746"],"./PianoCustomVariablesE2P.module.ts":["2873","7553"],"./TrackingScript.module.ts":["1910","4946","442"],"./EPaperLandingpageOpenerLogin.module":["8779","8099"],"./PodcastPlayButton.module":["4955","1519"],"./SsoScript.module.ts":["3813","9712"],"./SvgThemeSwitch.module.ts":["9177","9467"],"./PodcastFollowButton.module":["718","6647","5231"],"./SparkAdSlot.module":["8618","7240"],"./ConsentManager.module.ts":["3342","2087"],"./ResponsiveDetailsBox.module.ts":["4571","7457"],"./Search.module":["9221","2874"],"./StickyArticleAd.module":["4317","5977"],"./PianoCustomVariable.module.ts":["6176","7832"],"./UserButtons.module.ts":["5635","7129"],"./MainMenu.module":["9685","3164"],"./HorizontalSlideMenu.module":["4743","6107"],"./PodcastPlayButton.module.ts":["4955","1519"],"./AppBar.module":["5680","6881"],"./SparkAdConfig.module.ts":["2926","6428"],"./SparkAdSlot.module.ts":["8618","7240"],"./QuickSelectionTooltip.module.ts":["4757","5674"],"./PodcastPlayerTeaser.module":["5151","3496"],"./Theme.module":["3459","5479"],"./Breadcrumb.module":["6638","841"],"./UserActionDelayed.module.ts":["1757","8261"],"./PodcastPlayerSession.module":["9169","8126"],"./CategoryTags.module.ts":["9669","8375"],"./QuickSelectionMenu.module.ts":["1129","7769"],"./UserAccountLinkSwitch.module":["8871","3226"],"./PianoCustomParams.module.ts":["2561","2536"],"./Header.module":["6550","1541"],"./OpinaryScript.module.ts":["961","8144"],"./Basecamp.module.ts":["499","8187"],"./SvgThemeSwitch.module":["9177","9467"],"./Modal.module":["5992","9340"],"./NncLandingpageIFrame.module":["2217","1330"],"./ConsentManager.module":["3342","2087"],"./PianoCustomVariablesE2P.module":["2873","7553"],"./ResponsiveDetailsBox.module":["4571","7457"],"./ShareButton.module.ts":["6146","6218"],"./TaboolaContainer.module.ts":["7481","2774"],"./PodcastPlayer.module.ts":["25","6647","9273","3771"],"./ThemeSelect.module":["4567","8359"],"./CategoryTags.module":["9669","8375"],"./InsertDelayed.module.ts":["225","9865"],"./PianoScript.module":["1492","5924","4059"],"./PodcastFollowButton.module.ts":["718","6647","5231"],"./HorizontalSlideMenu.module.ts":["4743","6107"],"./TopicSelection.module":["2575","1338"],"./EmbedBox.module":["1394","9464"],"./BreakingNews.module.ts":["9661","7696"],"./QuickSelectionTooltip.module":["4757","5674"],"./VideoKalturaPlayer.module.ts":["2193","3336","6647","4417"],"./CompareSlider.module.ts":["8667","5544"],"./SelectBox.module.ts":["3337","8681"],"./UserAccountLinkSwitch.module.ts":["8871","3226"],"./NncLandingpageIFrame.module.ts":["2217","1330"],"./OpinaryScript.module":["961","8144"],"./BasecampReInit.module":["2732","228"],"./Slider.module.ts":["9853","9809"],"./LogoutToolTip.module.ts":["826","4603"],"./PianoElement.module":["9412","46"],"./UserButtons.module":["5635","7129"],"./VideoYoutubePlayer.module":["4380","9061"],"./Basecamp.module":["499","8187"],"./LoginButton.module.ts":["6905","7113"],"./IndexSubnavigationMobile.module.ts":["6471","6200"],"./Search.module.ts":["9221","2874"],"./RegionalPickerTooltip.module":["2871","5763"],"./MainMenu.module.ts":["9685","3164"],"./VideoKalturaPlayer.module":["2193","3336","6647","4417"],"./AppBar.module.ts":["5680","6881"],"./PianoElement.module.ts":["9412","46"],"./TaboolaContainer.module":["7481","2774"],"./PodcastPlayerTeaser.module.ts":["5151","3496"],"./QuickSelectionMenu.module":["1129","7769"],"./UserActionDelayed.module":["1757","8261"],"./PodcastPlayer.module":["25","6647","9273","3771"],"./Header.module.ts":["6550","1541"],"./StickyArticleAd.module.ts":["4317","5977"],"./PianoRecoWidget.module.ts":["2092","6717"],"./PurScript.module":["3894","4510"],"./CompareSlider.module":["8667","5544"],"./index":["9440","3336","6647","4417","5924","9273","2017","7319"],"./PianoCustomParams.module":["2561","2536"],"./Slider.module":["9853","9809"],"./EmbedBox.module.ts":["1394","9464"],"./Carousel.module":["198","2017","2244"],"./PianoMyAccount.module.ts":["2377","7042"],"./TextOpenUpBox.module":["9049","4050"],"./LogoutToolTip.module":["826","4603"],"./TextOpenUpBox.module.ts":["9049","4050"],"./BasecampReInit.module.ts":["2732","228"],"./LoginButton.module":["6905","7113"],"./Carousel.module.ts":["198","2017","2244"]};function i(e){if(!r.o(n,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],i=t[0];return Promise.all(t.slice(1).map(r.e)).then(function(){return r(i)})}i.keys=()=>Object.keys(n),i.id="9302",e.exports=i},971:function(e,t,r){"use strict";var n=r(4470),i=r(4406),o={FATAL:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,VERBOSE:5},s="DEBUG",a=()=>"undefined"==typeof window,u=()=>{var e,t;return"undefined"!=typeof window&&(null===(t=window)||void 0===t?void 0:null===(e=t.SPARK)||void 0===e?void 0:e.debug)},l=e=>{var t;return null!==(t=o[e])&&void 0!==t?t:o[s]},c=e=>l(e)<=l(d),d=(()=>{var e;if(u())return s;if(!a())return"FATAL";return(null==i?void 0:null===(e=i.env)||void 0===e?void 0:e.LOG_LEVEL)&&void 0!==o[i.env.LOG_LEVEL]?i.env.LOG_LEVEL:s})(),h=e=>{var t=e?"".concat(e,":"):"";return a()?(0,n.gray)(t):"".concat(t)},f=e=>a()?"":e,p={debug:f((0,n.bgYellow)("DEBUG")),error:f((0,n.red)("ERROR")),info:(0,n.yellowBright)("INFO"),warn:f((0,n.bgYellow)("WARN")),log:(0,n.yellow)("LOG"),success:(0,n.green)("SUCCESS"),muted:(0,n.gray)("MUTED")},m=(e,t)=>{console.log("".concat(a()?"":"★"," TABLE ↓↓"),h(t)),console.table(e)},g=(e,t)=>{var r,i=null!==(r=null==e?void 0:e.message)&&void 0!==r?r:e,o=null==e?void 0:e.stack,s="".concat((0,n.underline)(p.error)," ").concat((0,n.redBright)(i.toString())),a=o&&o.split("\n").map(e=>(0,n.gray)(e)).join("\n");console.error(s),console.error(a),t&&console.error((0,n.redBright)("An unhandled promise rejection occurred."))};a()&&i.on("unhandledRejection",(e,t)=>{g(e,t)}).on("uncaughtException",e=>{g(e)}).on("referenceError",e=>{g(e)});t.Z=e=>({debug:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return c("DEBUG")&&(a()?console.debug(p.debug,h(e),(0,n.gray)(r.join(" "))):console.debug("★ DEBUG",h(e),...r))},error:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return c("ERROR")&&(a()?console.error(p.error,h(e),(0,n.gray)(r.join(" "))):console.error("★ ERROR",h(e),...r))},info:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return c("INFO")&&(a()?console.log(p.info,(0,n.gray)(h(e)),(0,n.gray)(r.join(" "))):console.log("★ INFO ".concat(h(e)),...r))},warn:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return c("WARN")&&(a()?console.warn(p.warn,h(e),(0,n.gray)(r.join(" "))):console.warn("★ WARN",h(e),...r))},log:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return c("DEBUG")&&(a()?console.log(p.log,h(e),(0,n.gray)(r.join(" "))):console.log("★ LOG",h(e),...r))},table:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return c("INFO")&&m(r,e)},time:t=>c("INFO")&&(a()?console.time((0,n.gray)("TIMED ".concat(h(e)," ").concat(t))):console.time("★ TIMED ".concat(h(e)," ").concat(t))),timeEnd:t=>c("INFO")&&(a()?console.timeEnd((0,n.gray)("TIMED ".concat(h(e)," ").concat(t))):console.timeEnd("★ TIMED ".concat(h(e)," ").concat(t))),success:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return c("INFO")&&(a()?console.log(p.success,h(e),(0,n.gray)(r.join(" "))):console.log("★ SUCCESS",h(e),...r))},infra:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return a()?console.log((0,n.blue)(h(e)),(0,n.blue)(r.join(" "))):console.log("★",h(e),...r)},muted:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return c("VERBOSE")&&(a()?console.info(p.muted,h(e),(0,n.yellow)(r.join(" "))):console.log("★ SILENT",h(e),...r))}})},7438:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var n,i=((n={}).QUICKSELECTION_OPEN="QUICKSELECTION_OPEN",n.QUICKSELECTION_CLOSE="QUICKSELECTION_CLOSE",n.MAINMENU_OPEN="MAINMENU_OPEN",n.MAINMENU_CLOSE="MAINMENU_CLOSE",n.INIT_MODULE="INIT_MODULE",n.INDEXSUBNAVIGATION_OPEN="INDEXSUBNAVIGATION_OPEN",n.INDEXSUBNAVIGATION_CLOSE="INDEXSUBNAVIGATION_CLOSE",n.PIANO_REGIONAL_PICKER_SUBMIT="PIANO_REGIONAL_PICKER_SUBMIT",n.PIANO_TEMPLATE_CONTAINER_IS_LOADED="PIANO_TEMPLATE_CONTAINER_IS_LOADED",n)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce(function(t,n){return r.f[n](e,t),t},[]))},r.u=function(e){return""+e+".chunk.js"},r.miniCssF=function(e){return""+e+".css"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},(()=>{var e={},t="@spark-front/templates:";r.l=function(n,i,o,s){if(e[n]){e[n].push(i);return}if(void 0!==o){for(var a,u,l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){a=d;break}}}!a&&(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[i];var h=function(t,r){a.onerror=a.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(function(e){return e(r)}),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),u&&document.head.appendChild(a)}})(),r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},r.rv=function(){return"1.1.8"},(()=>{r.g.importScripts&&(e=r.g.location+"");var e,t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length){for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={2462:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i){if(i)n.push(i[2]);else{var o=new Promise(function(r,n){i=e[t]=[r,n]});n.push(i[2]=o);var s=r.p+r.u(t),a=Error();r.l(s,function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}}};var t=function(t,n){var i=n[0],o=n[1],s=n[2],a,u,l=0;if(i.some(function(t){return 0!==e[t]})){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);s&&s(r)}for(t&&t(n);l<i.length;l++)u=i[l],r.o(e,u)&&e[u]&&e[u][0](),e[u]=0},n=self.webpackChunk_spark_front_templates=self.webpackChunk_spark_front_templates||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.1.8";(()=>{"use strict";var e,t,n,i=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,o={revert:function(){}},s=new Map,a=new Set;function u(e){var t=s.get(e);return!t&&(t={element:e,attributes:{}},s.set(e,t)),t}function l(e,t,r,n,i){var o,s=r(e),a={isDirty:!1,originalValue:s,virtualValue:s,mutations:[],el:e,_positionTimeout:null,observer:new MutationObserver(function(){if("position"===t&&a._positionTimeout)return;"position"===t&&(a._positionTimeout=setTimeout(function(){a._positionTimeout=null},1e3));var n=r(e);if("position"!==t||n.parentNode!==a.virtualValue.parentNode||n.insertBeforeNode!==a.virtualValue.insertBeforeNode)n!==a.virtualValue&&(a.originalValue=n,i(a))}),mutationRunner:i,setValue:n,getCurrentValue:r};if("position"===t&&e.parentNode)a.observer.observe(e.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1});else{;a.observer.observe(e,"html"===(o=t)?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[o]})}return a}function c(e,t){var r=t.getCurrentValue(t.el);t.virtualValue=e,e&&"string"!=typeof e?(!r||e.parentNode!==r.parentNode||e.insertBeforeNode!==r.insertBeforeNode)&&(t.isDirty=!0,x()):e!==r&&(t.isDirty=!0,x())}function d(t){var r=t.originalValue;t.mutations.forEach(function(e){return r=e.mutate(r)}),c(function(t){return!e&&(e=document.createElement("div")),e.innerHTML=t,e.innerHTML}(r),t)}function h(e){var t=new Set(e.originalValue.split(/\s+/).filter(Boolean));e.mutations.forEach(function(e){return e.mutate(t)}),c(Array.from(t).filter(Boolean).join(" "),e)}function f(e){var t=e.originalValue;e.mutations.forEach(function(e){return t=e.mutate(t)}),c(t,e)}function p(e){var t=e.originalValue;e.mutations.forEach(function(e){t=function(e){var t=e.parentSelector,r=e.insertBeforeSelector,n=document.querySelector(t);if(!n)return null;var i=r?document.querySelector(r):null;return r&&!i?null:{parentNode:n,insertBeforeNode:i}}(e.mutate())||t}),c(t,e)}var m=function(e){return e.innerHTML},g=function(e,t){return e.innerHTML=t};function y(e){var t=u(e);return!t.html&&(t.html=l(e,"html",m,g,d)),t.html}var v=function(e){return{parentNode:e.parentElement,insertBeforeNode:e.nextElementSibling}},b=function(e,t){if(!t.insertBeforeNode||!!t.parentNode.contains(t.insertBeforeNode))t.parentNode.insertBefore(e,t.insertBeforeNode)};function k(e){var t=u(e);return!t.position&&(t.position=l(e,"position",v,b,p)),t.position}var _=function(e,t){return t?e.className=t:e.removeAttribute("class")},E=function(e){return e.className};function A(e){var t=u(e);return!t.classes&&(t.classes=l(e,"class",E,_,h)),t.classes}function w(e,t){var r,n,i=u(e);if(!i.attributes[t]){;i.attributes[t]=l(e,t,(r=t,function(e){var t;return null!=(t=e.getAttribute(r))?t:null}),(n=t,function(e,t){return null!==t?e.setAttribute(n,t):e.removeAttribute(n)}),f)}return i.attributes[t]}function S(e,t,r){if(r.isDirty){r.isDirty=!1;var n,i,o,a,u,l,c,d,h,f,p,m,g=r.virtualValue;if(!r.mutations.length){;n=e,i=t,!(m=s.get(n))||("html"===i?(null==(o=m.html)||null==(a=o.observer)||a.disconnect(),delete m.html):"class"===i?(null==(u=m.classes)||null==(l=u.observer)||l.disconnect(),delete m.classes):"position"===i?(null==(c=m.position)||null==(d=c.observer)||d.disconnect(),delete m.position):(null==(h=m.attributes)||null==(f=h[i])||null==(p=f.observer)||p.disconnect(),delete m.attributes[i]))}r.setValue(e,g)}}function C(e,t){e.html&&S(t,"html",e.html),e.classes&&S(t,"class",e.classes),e.position&&S(t,"position",e.position),Object.keys(e.attributes).forEach(function(r){S(t,r,e.attributes[r])})}function x(){s.forEach(C)}function B(e){if("position"!==e.kind||1!==e.elements.size){var t=new Set(e.elements);document.querySelectorAll(e.selector).forEach(function(r){if(!t.has(r)){var n,i,o;e.elements.add(r),n=e,i=r,o=null,"html"===n.kind?o=y(i):"class"===n.kind?o=A(i):"attribute"===n.kind?o=w(i,n.attribute):"position"===n.kind&&(o=k(i)),!o||(o.mutations.push(n),o.mutationRunner(o))}})}}function T(){a.forEach(B)}function P(e){return"undefined"==typeof document?o:(a.add(e),B(e),{revert:function(){var t;(t=e).elements.forEach(function(e){return function(e,t){var r=null;if("html"===e.kind?r=y(t):"class"===e.kind?r=A(t):"attribute"===e.kind?r=w(t,e.attribute):"position"===e.kind&&(r=k(t)),r){var n=r.mutations.indexOf(e);-1!==n&&r.mutations.splice(n,1),r.mutationRunner(r)}}(t,e)}),t.elements.clear(),a.delete(t)}})}function N(e,t){return P({kind:"html",elements:new Set,mutate:t,selector:e})}function I(e,t){return P({kind:"position",elements:new Set,mutate:t,selector:e})}function O(e,t){return P({kind:"class",elements:new Set,mutate:t,selector:e})}function D(e,t,r){return i.test(t)?"class"===t||"className"===t?O(e,function(e){var t=r(Array.from(e).join(" "));e.clear(),t&&t.split(/\s+/g).filter(Boolean).forEach(function(t){return e.add(t)})}):P({kind:"attribute",attribute:t,elements:new Set,mutate:r,selector:e}):o}"undefined"!=typeof document&&(t||(t=new MutationObserver(function(){T()})),T(),t.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}));var M={declarative:function(e){var t=e.selector,r=e.action,n=e.value,i=e.attribute,s=e.parentSelector,a=e.insertBeforeSelector;if("html"===i){if("append"===r)return N(t,function(e){return e+(null!=n?n:"")});if("set"===r)return N(t,function(){return null!=n?n:""})}else if("class"===i){if("append"===r)return O(t,function(e){n&&e.add(n)});if("remove"===r)return O(t,function(e){n&&e.delete(n)});else if("set"===r)return O(t,function(e){e.clear(),n&&e.add(n)})}else if("position"===i){if("set"===r&&s)return I(t,function(){return{insertBeforeSelector:a,parentSelector:s}})}else{if("append"===r)return D(t,i,function(e){return null!==e?e+(null!=n?n:""):null!=n?n:""});if("set"===r)return D(t,i,function(){return null!=n?n:""});else if("remove"===r)return D(t,i,function(){return null})}return o}};let L={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource};function R(e){let t=0x811c9dc5,r=e.length;for(let n=0;n<r;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}function F(e,t,r){return 2===r?R(R(e+t)+"")%1e4/1e4:1===r?R(t+e)%1e3/1e3:null}function V(e,t){return e>=t[0]&&e<t[1]}function U(e){try{let t=e.replace(/([^\\])\//g,"$1\\/");return new RegExp(t)}catch(e){console.error(e);return}}function $(e,t){if(!t.length)return!1;let r=!1,n=!1;for(let i=0;i<t.length;i++){let o=function(e,t,r){try{let n=new URL(e,"https://_");if("regex"===t){let e=U(r);if(!e)return!1;return e.test(n.href)||e.test(n.href.substring(n.origin.length))}if("simple"===t)return function(e,t){try{let r=new URL(t.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),n=[[e.host,r.host,!1],[e.pathname,r.pathname,!0]];return r.hash&&n.push([e.hash,r.hash,!1]),r.searchParams.forEach((t,r)=>{n.push([e.searchParams.get(r)||"",t,!1])}),!n.some(e=>!function(e,t,r){try{let n=t.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");return r&&(n="\\/?"+n.replace(/(^\/|\/$)/g,"")+"\\/?"),RegExp("^"+n+"$","i").test(e)}catch(e){return!1}}(e[0],e[1],e[2]))}catch(e){return!1}}(n,r);return!1}catch(e){return!1}}(e,t[i].type,t[i].pattern);if(!1===t[i].include){if(o)return!1}else r=!0,o&&(n=!0)}return n||!r}let K=e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0));async function j(e,t,r){if(t=t||"",!(r=r||globalThis.crypto&&globalThis.crypto.subtle||L.SubtleCrypto))throw Error("No SubtleCrypto implementation found");try{let n=await r.importKey("raw",K(t),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[i,o]=e.split("."),s=await r.decrypt({name:"AES-CBC",iv:K(i)},n,K(o));return new TextDecoder().decode(s)}catch(e){throw Error("Failed to decrypt")}}function G(e){return"string"==typeof e?e:JSON.stringify(e)}function H(e){"number"==typeof e&&(e+=""),(!e||"string"!=typeof e)&&(e="0");let t=e.replace(/(^v|\+.*$)/g,"").split(/[-.]/);return 3===t.length&&t.push("~"),t.map(e=>e.match(/^[0-9]+$/)?e.padStart(5," "):e).join("-")}function q(e){return"object"==typeof e&&null!==e}function J(e){return e.urlPatterns&&e.variations.some(e=>q(e)&&"urlRedirect"in e)?"redirect":e.variations.some(e=>q(e)&&(e.domMutations||"js"in e||"css"in e))?"visual":"unknown"}async function z(e,t){return new Promise(r=>{let n,i=!1,o=e=>{!i&&(i=!0,n&&clearTimeout(n),r(e||null))};t&&(n=setTimeout(()=>o(),t)),e.then(e=>o(e)).catch(()=>o())})}let Q={staleTTL:6e4,maxAge:144e5,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:2e4,disableCache:!1},W={fetchFeaturesCall:e=>{let{host:t,clientKey:r,headers:n}=e;return L.fetch(`${t}/api/features/${r}`,{headers:n})},fetchRemoteEvalCall:e=>{let{host:t,clientKey:r,payload:n,headers:i}=e,o={method:"POST",headers:{"Content-Type":"application/json",...i},body:JSON.stringify(n)};return L.fetch(`${t}/api/eval/${r}`,o)},eventSourceCall:e=>{let{host:t,clientKey:r,headers:n}=e;return n?new L.EventSource(`${t}/sub/${r}`,{headers:n}):new L.EventSource(`${t}/sub/${r}`)},startIdleListener:()=>{let e;if(!("undefined"!=typeof window&&"undefined"!=typeof document))return;let t=()=>{"visible"===document.visibilityState?(window.clearTimeout(e),function(){et.forEach(e=>{if(!!e)"idle"===e.state&&ey(e)})}()):"hidden"===document.visibilityState&&(e=window.setTimeout(ei,Q.idleStreamInterval))};return document.addEventListener("visibilitychange",t),()=>document.removeEventListener("visibilitychange",t)},stopIdleListener:()=>{}};try{globalThis.localStorage&&(L.localStorage=globalThis.localStorage)}catch(e){}let Z=new Map,Y=!1,X=new Map,ee=new Map,et=new Map,er=new Set;async function en(e){let{instance:t,timeout:r,skipCache:n,allowStale:i,backgroundSync:o}=e;return!o&&(Q.backgroundSync=!1),es({instance:t,allowStale:i,timeout:r,skipCache:n})}function ei(){et.forEach(e=>{e&&(e.state="idle",eg(e))})}async function eo(){try{if(!L.localStorage)return;await L.localStorage.setItem(Q.cacheKey,JSON.stringify(Array.from(X.entries())))}catch(e){}}async function es(e){let{instance:t,allowStale:r,timeout:n,skipCache:i}=e,o=ea(t),s=eu(t),a=new Date,u=new Date(a.getTime()-Q.maxAge+Q.staleTTL);await el();let l=Q.disableCache||i?void 0:X.get(s);return l&&(r||l.staleAt>a)&&l.staleAt>u?(l.sse&&er.add(o),l.staleAt<a?ef(t):ep(t),{data:l.data,success:!0,source:"cache"}):await z(ef(t),n)||{data:null,success:!1,source:"timeout",error:Error("Timeout")}}function ea(e){let[t,r]=e.getApiInfo();return`${t}||${r}`}function eu(e){let t=ea(e);if(!("isRemoteEval"in e)||!e.isRemoteEval())return t;let r=e.getAttributes(),n=e.getCacheKeyAttributes()||Object.keys(e.getAttributes()),i={};n.forEach(e=>{i[e]=r[e]});let o=e.getForcedVariations(),s=e.getUrl();return`${t}||${JSON.stringify({ca:i,fv:o,url:s})}`}async function el(){if(!Y){Y=!0;try{if(L.localStorage){let e=await L.localStorage.getItem(Q.cacheKey);if(!Q.disableCache&&e){let t=JSON.parse(e);t&&Array.isArray(t)&&t.forEach(e=>{let[t,r]=e;X.set(t,{...r,staleAt:new Date(r.staleAt)})}),ec()}}}catch(e){}if(!Q.disableIdleStreams){let e=W.startIdleListener();e&&(W.stopIdleListener=e)}}}function ec(){let e=Array.from(X.entries()).map(e=>{let[t,r]=e;return{key:t,staleAt:r.staleAt.getTime()}}).sort((e,t)=>e.staleAt-t.staleAt),t=Math.min(Math.max(0,X.size-Q.maxEntries),X.size);for(let r=0;r<t;r++)X.delete(e[r].key)}function ed(e,t,r){let n=r.dateUpdated||"",i=new Date(Date.now()+Q.staleTTL),o=Q.disableCache?void 0:X.get(t);if(o&&n&&o.version===n){o.staleAt=i,eo();return}!Q.disableCache&&(X.set(t,{data:r,version:n,staleAt:i,sse:er.has(e)}),ec()),eo();let s=Z.get(e);s&&s.forEach(e=>eh(e,r))}async function eh(e,t){await e.setPayload(t||e.getPayload())}async function ef(e){let{apiHost:t,apiRequestHeaders:r}=e.getApiHosts(),n=e.getClientKey(),i="isRemoteEval"in e&&e.isRemoteEval(),o=ea(e),s=eu(e),a=ee.get(s);return!a&&(a=(i?W.fetchRemoteEvalCall({host:t,clientKey:n,payload:{attributes:e.getAttributes(),forcedVariations:e.getForcedVariations(),forcedFeatures:Array.from(e.getForcedFeatures().entries()),url:e.getUrl()},headers:r}):W.fetchFeaturesCall({host:t,clientKey:n,headers:r})).then(e=>{if(!e.ok)throw Error(`HTTP error: ${e.status}`);return"enabled"===e.headers.get("x-sse-support")&&er.add(o),e.json()}).then(t=>(ed(o,s,t),ep(e),ee.delete(s),{data:t,success:!0,source:"network"})).catch(e=>(ee.delete(s),{data:null,source:"error",success:!1,error:e})),ee.set(s,a)),a}function ep(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ea(e),n=eu(e),{streamingHost:i,streamingHostRequestHeaders:o}=e.getApiHosts(),s=e.getClientKey();if(t&&er.add(r),Q.backgroundSync&&er.has(r)&&L.EventSource){if(et.has(r))return;let e={src:null,host:i,clientKey:s,headers:o,cb:t=>{try{if("features-updated"===t.type){let e=Z.get(r);e&&e.forEach(e=>{ef(e)})}else if("features"===t.type){let e=JSON.parse(t.data);ed(r,n,e)}e.errors=0}catch(t){em(e)}},errors:0,state:"active"};et.set(r,e),ey(e)}}function em(e){if("idle"!==e.state&&(e.errors++,e.errors>3||e.src&&2===e.src.readyState)){let t=Math.pow(3,e.errors-3)*(1e3+1e3*Math.random());eg(e),setTimeout(()=>{!["idle","active"].includes(e.state)&&ey(e)},Math.min(t,3e5))}}function eg(e){e.src&&(e.src.onopen=null,e.src.onerror=null,e.src.close(),e.src=null,"active"===e.state&&(e.state="disabled"))}function ey(e){e.src=W.eventSourceCall({host:e.host,clientKey:e.clientKey,headers:e.headers}),e.state="active",e.src.addEventListener("features",e.cb),e.src.addEventListener("features-updated",e.cb),e.src.onerror=()=>em(e),e.src.onopen=()=>{e.errors=0}}function ev(e,t){eg(e),et.delete(t)}function eb(){er.clear(),et.forEach(ev),Z.clear(),W.stopIdleListener()}function ek(e,t){if(t.streaming){if(!e.getClientKey())throw Error("Must specify clientKey to enable streaming");t.payload&&ep(e,!0),!function(e){let t=ea(e),r=Z.get(t)||new Set;r.add(e),Z.set(t,r)}(e)}}let e_={};function eE(e,t,r){for(let[n,i]of(r=r||{},Object.entries(t)))switch(n){case"$or":if(!eC(e,i,r))return!1;break;case"$nor":if(eC(e,i,r))return!1;break;case"$and":if(!function(e,t,r){for(let n=0;n<t.length;n++)if(!eE(e,t[n],r))return!1;return!0}(e,i,r))return!1;break;case"$not":if(eE(e,i,r))return!1;break;default:if(!eA(i,function(e,t){let r=t.split("."),n=e;for(let e=0;e<r.length;e++){if(!n||"object"!=typeof n||!(r[e]in n))return null;n=n[r[e]]}return n}(e,n),r))return!1}return!0}function eA(e,t,r){if("string"==typeof e)return t+""===e;if("number"==typeof e)return 1*t===e;if("boolean"==typeof e)return!!t===e;if(null===e)return null===t;if(Array.isArray(e)||!ew(e))return JSON.stringify(t)===JSON.stringify(e);for(let n in e)if(!function(e,t,r,n){switch(e){case"$veq":return H(t)===H(r);case"$vne":return H(t)!==H(r);case"$vgt":return H(t)>H(r);case"$vgte":return H(t)>=H(r);case"$vlt":return H(t)<H(r);case"$vlte":return H(t)<=H(r);case"$eq":return t===r;case"$ne":return t!==r;case"$lt":return t<r;case"$lte":return t<=r;case"$gt":return t>r;case"$gte":return t>=r;case"$exists":return r?null!=t:null==t;case"$in":if(!Array.isArray(r))return!1;return eS(t,r);case"$inGroup":return eS(t,n[r]||[]);case"$notInGroup":return!eS(t,n[r]||[]);case"$nin":if(!Array.isArray(r))return!1;return!eS(t,r);case"$not":return!eA(r,t,n);case"$size":if(!Array.isArray(t))return!1;return eA(r,t.length,n);case"$elemMatch":return function(e,t,r){if(!Array.isArray(e))return!1;let n=ew(t)?e=>eA(t,e,r):e=>eE(e,t,r);for(let t=0;t<e.length;t++)if(e[t]&&n(e[t]))return!0;return!1}(t,r,n);case"$all":if(!Array.isArray(t))return!1;for(let e=0;e<r.length;e++){let i=!1;for(let o=0;o<t.length;o++)if(eA(r[e],t[o],n)){i=!0;break}if(!i)return!1}return!0;case"$regex":try{var i;return(!e_[i=r]&&(e_[i]=new RegExp(i.replace(/([^\\])\//g,"$1\\/"))),e_[i]).test(t)}catch(e){return!1}case"$type":return function(e){if(null===e)return"null";if(Array.isArray(e))return"array";let t=typeof e;return["string","number","boolean","object","undefined"].includes(t)?t:"unknown"}(t)===r;default:return console.error("Unknown operator: "+e),!1}}(n,t,e[n],r))return!1;return!0}function ew(e){let t=Object.keys(e);return t.length>0&&t.filter(e=>"$"===e[0]).length===t.length}function eS(e,t){return Array.isArray(e)?e.some(e=>t.includes(e)):t.includes(e)}function eC(e,t,r){if(!t.length)return!0;for(let n=0;n<t.length;n++)if(eE(e,t[n],r))return!0;return!1}function ex(e,t){if(t.stack.evaluatedFeatures.has(e))return eT(t,e,null,"cyclicPrerequisite");t.stack.evaluatedFeatures.add(e),t.stack.id=e;let r=function(e){let t=new Map;return e.global.forcedFeatureValues&&e.global.forcedFeatureValues.forEach((e,r)=>t.set(r,e)),e.user.forcedFeatureValues&&e.user.forcedFeatureValues.forEach((e,r)=>t.set(r,e)),t}(t);if(r.has(e))return eT(t,e,r.get(e),"override");if(!t.global.features||!t.global.features[e])return eT(t,e,null,"unknownFeature");let n=t.global.features[e];if(n.rules)e:for(let r of n.rules){if(r.parentConditions)for(let n of r.parentConditions){let r=ex(n.id,t);if("cyclicPrerequisite"===r.source)return eT(t,e,null,"cyclicPrerequisite");if(!eE({value:r.value},n.condition||{})){if(n.gate)return eT(t,e,null,"prerequisite");continue e}}if(r.filters&&eN(r.filters,t))continue;if("force"in r){if(r.condition&&!eP(r.condition,t)||!function(e,t,r,n,i,o,s){if(!i&&void 0===o)return!0;if(!i&&0===o)return!1;let{hashValue:a}=eO(e,r,n);if(!a)return!1;let u=F(t,a,s||1);return null!==u&&(i?V(u,i):void 0===o||u<=o)}(t,r.seed||e,r.hashAttribute,t.user.saveStickyBucketAssignmentDoc&&!r.disableStickyBucketing?r.fallbackAttribute:void 0,r.range,r.coverage,r.hashVersion))continue;return r.tracks&&r.tracks.forEach(e=>{let r=!1;t.global.trackingCallback&&(r=!0,Promise.resolve(t.global.trackingCallback(e.experiment,e.result,t.user)).catch(()=>{})),t.user.trackingCallback&&(r=!0,Promise.resolve(t.user.trackingCallback(e.experiment,e.result)).catch(()=>{})),!r&&t.global.saveDeferredTrack&&t.global.saveDeferredTrack({experiment:e.experiment,result:e.result})}),eT(t,e,r.force,"force",r.id)}if(!r.variations)continue;let n={variations:r.variations,key:r.key||e};"coverage"in r&&(n.coverage=r.coverage),r.weights&&(n.weights=r.weights),r.hashAttribute&&(n.hashAttribute=r.hashAttribute),r.fallbackAttribute&&(n.fallbackAttribute=r.fallbackAttribute),r.disableStickyBucketing&&(n.disableStickyBucketing=r.disableStickyBucketing),void 0!==r.bucketVersion&&(n.bucketVersion=r.bucketVersion),void 0!==r.minBucketVersion&&(n.minBucketVersion=r.minBucketVersion),r.namespace&&(n.namespace=r.namespace),r.meta&&(n.meta=r.meta),r.ranges&&(n.ranges=r.ranges),r.name&&(n.name=r.name),r.phase&&(n.phase=r.phase),r.seed&&(n.seed=r.seed),r.hashVersion&&(n.hashVersion=r.hashVersion),r.filters&&(n.filters=r.filters),r.condition&&(n.condition=r.condition);let{result:i}=eB(n,e,t);if(t.global.onExperimentEval&&t.global.onExperimentEval(n,i),i.inExperiment&&!i.passthrough)return eT(t,e,i.value,"experiment",r.id,n,i)}return eT(t,e,void 0===n.defaultValue?null:n.defaultValue,"defaultValue")}function eB(e,t,r){let n=e.key,i=e.variations.length;if(i<2||!1===r.global.enabled||!1===r.user.enabled||(e=function(e,t){let r=e.key,n=t.global.overrides;return n&&n[r]&&"string"==typeof(e=Object.assign({},e,n[r])).url&&(e.url=U(e.url)),e}(e,r)).urlPatterns&&!$(r.user.url||"",e.urlPatterns))return{result:eI(r,e,-1,!1,t)};let o=function(e,t,r){if(!t)return null;let n=t.split("?")[1];if(!n)return null;let i=n.replace(/#.*/,"").split("&").map(e=>e.split("=",2)).filter(t=>{let[r]=t;return r===e}).map(e=>{let[,t]=e;return parseInt(t)});return i.length>0&&i[0]>=0&&i[0]<r?i[0]:null}(n,r.user.url||"",i);if(null!==o)return{result:eI(r,e,o,!1,t)};let s=function(e){if(e.global.forcedVariations&&e.user.forcedVariations)return{...e.global.forcedVariations,...e.user.forcedVariations};if(e.global.forcedVariations)return e.global.forcedVariations;if(e.user.forcedVariations)return e.user.forcedVariations;else return{}}(r);if(n in s)return{result:eI(r,e,s[n],!1,t)};if("draft"===e.status||!1===e.active)return{result:eI(r,e,-1,!1,t)};let{hashAttribute:a,hashValue:u}=eO(r,e.hashAttribute,r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing?e.fallbackAttribute:void 0);if(!u)return{result:eI(r,e,-1,!1,t)};let l=-1,c=!1,d=!1;if(r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){let{variation:t,versionIsBlocked:n}=function(e){let{ctx:t,expKey:r,expBucketVersion:n,expHashAttribute:i,expFallbackAttribute:o,expMinBucketVersion:s,expMeta:a}=e;s=s||0,i=i||"id",a=a||[];let u=eD(r,n=n||0),l=function(e,t,r){if(!e.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:n,hashValue:i}=eO(e,t),o=`${n}||${G(i)}`,{hashAttribute:s,hashValue:a}=eO(e,r),u=a?`${s}||${G(a)}`:null,l={};return u&&e.user.stickyBucketAssignmentDocs[u]&&Object.assign(l,e.user.stickyBucketAssignmentDocs[u].assignments||{}),e.user.stickyBucketAssignmentDocs[o]&&Object.assign(l,e.user.stickyBucketAssignmentDocs[o].assignments||{}),l}(t,i,o);if(s>0){for(let e=0;e<=s;e++)if(void 0!==l[eD(r,e)])return{variation:-1,versionIsBlocked:!0}}let c=l[u];if(void 0===c)return{variation:-1};let d=a.findIndex(e=>e.key===c);return d<0?{variation:-1}:{variation:d}}({ctx:r,expKey:e.key,expBucketVersion:e.bucketVersion,expHashAttribute:e.hashAttribute,expFallbackAttribute:e.fallbackAttribute,expMinBucketVersion:e.minBucketVersion,expMeta:e.meta});c=t>=0,l=t,d=!!n}if(!c){if(e.filters){if(eN(e.filters,r))return{result:eI(r,e,-1,!1,t)}}else if(e.namespace&&!function(e,t){let r=F("__"+t[0],e,1);return null!==r&&r>=t[1]&&r<t[2]}(u,e.namespace))return{result:eI(r,e,-1,!1,t)};if(e.include&&!function(e){try{return e()}catch(e){return console.error(e),!1}}(e.include)||e.condition&&!eP(e.condition,r))return{result:eI(r,e,-1,!1,t)};if(e.parentConditions)for(let n of e.parentConditions){let i=ex(n.id,r);if("cyclicPrerequisite"===i.source||!eE({value:i.value},n.condition||{}))return{result:eI(r,e,-1,!1,t)}}if(e.groups&&!function(e,t){let r=t.global.groups||{};for(let t=0;t<e.length;t++)if(r[e[t]])return!0;return!1}(e.groups,r))return{result:eI(r,e,-1,!1,t)}}if(e.url&&!function(e,t){let r=t.user.url;if(!r)return!1;let n=r.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!(e.test(r)||e.test(n))||!1}(e.url,r))return{result:eI(r,e,-1,!1,t)};let h=F(e.seed||n,u,e.hashVersion||1);if(null===h)return{result:eI(r,e,-1,!1,t)};if(!c&&(l=function(e,t){for(let r=0;r<t.length;r++)if(V(e,t[r]))return r;return -1}(h,e.ranges||function(e,t,r){var n;(t=void 0===t?1:t)<0?t=0:t>1&&(t=1);let i=(n=e)<=0?[]:Array(n).fill(1/n);(r=r||i).length!==e&&(r=i);let o=r.reduce((e,t)=>t+e,0);(o<.99||o>1.01)&&(r=i);let s=0;return r.map(e=>{let r=s;return s+=e,[r,r+t*e]})}(i,void 0===e.coverage?1:e.coverage,e.weights))),d)return{result:eI(r,e,-1,!1,t,void 0,!0)};if(l<0)return{result:eI(r,e,-1,!1,t)};if("force"in e)return{result:eI(r,e,void 0===e.force?-1:e.force,!1,t)};if(r.global.qaMode||r.user.qaMode||"stopped"===e.status)return{result:eI(r,e,-1,!1,t)};let f=eI(r,e,l,!0,t,h,c);if(r.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){let{changed:t,key:n,doc:i}=function(e,t,r,n){let i=`${t}||${r}`,o=e.user.stickyBucketAssignmentDocs&&e.user.stickyBucketAssignmentDocs[i]&&e.user.stickyBucketAssignmentDocs[i].assignments||{},s={...o,...n},a=JSON.stringify(o)!==JSON.stringify(s);return{key:i,doc:{attributeName:t,attributeValue:r,assignments:s},changed:a}}(r,a,G(u),{[eD(e.key,e.bucketVersion)]:f.key});t&&(r.user.stickyBucketAssignmentDocs=r.user.stickyBucketAssignmentDocs||{},r.user.stickyBucketAssignmentDocs[n]=i,r.user.saveStickyBucketAssignmentDoc(i))}let p=[];r.global.trackingCallback&&p.push(Promise.resolve(r.global.trackingCallback(e,f,r.user)).catch(()=>{})),r.user.trackingCallback&&p.push(Promise.resolve(r.user.trackingCallback(e,f)).catch(()=>{})),0===p.length&&r.global.saveDeferredTrack&&r.global.saveDeferredTrack({experiment:e,result:f});let m=p.length?1===p.length?p[0]:Promise.all(p).then(()=>{}):void 0;return"changeId"in e&&e.changeId&&r.global.recordChangeId&&r.global.recordChangeId(e.changeId),{result:f,trackingCall:m}}function eT(e,t,r,n,i,o,s){let a={value:r,on:!!r,off:!r,source:n,ruleId:i||""};if(o&&(a.experiment=o),s&&(a.experimentResult=s),"override"!==n){if(e.global.onFeatureUsage)try{e.global.onFeatureUsage(t,a,e.user)}catch(e){}if(e.user.onFeatureUsage)try{e.user.onFeatureUsage(t,a)}catch(e){}}return a}function eP(e,t){return eE(t.user.attributes||{},e,t.global.savedGroups||{})}function eN(e,t){return e.some(e=>{let{hashValue:r}=eO(t,e.attribute);if(!r)return!0;let n=F(e.seed,r,e.hashVersion||2);return null===n||!e.ranges.some(e=>V(n,e))})}function eI(e,t,r,n,i,o,s){let a=!0;(r<0||r>=t.variations.length)&&(r=0,a=!1);let{hashAttribute:u,hashValue:l}=eO(e,t.hashAttribute,e.user.saveStickyBucketAssignmentDoc&&!t.disableStickyBucketing?t.fallbackAttribute:void 0),c=t.meta?t.meta[r]:{},d={key:c.key||""+r,featureId:i,inExperiment:a,hashUsed:n,variationId:r,value:t.variations[r],hashAttribute:u,hashValue:l,stickyBucketUsed:!!s};return c.name&&(d.name=c.name),void 0!==o&&(d.bucket=o),c.passthrough&&(d.passthrough=c.passthrough),d}function eO(e,t,r){let n=t||"id",i="";return e.user.attributes&&e.user.attributes[n]&&(i=e.user.attributes[n]),e.user.attributes&&!i&&r&&(e.user.attributes[r]&&(i=e.user.attributes[r]),i&&(n=r)),{hashAttribute:n,hashValue:i}}function eD(e,t){return t=t||0,`${e}__${t}`}async function eM(e,t,r){let n=function(e,t){let r={};return(function(e,t){let r=new Set,n=t&&t.features?t.features:e.global.features||{},i=t&&t.experiments?t.experiments:e.global.experiments||[];return Object.keys(n).forEach(e=>{let t=n[e];if(t.rules)for(let e of t.rules)e.variations&&(r.add(e.hashAttribute||"id"),e.fallbackAttribute&&r.add(e.fallbackAttribute))}),i.map(e=>{r.add(e.hashAttribute||"id"),e.fallbackAttribute&&r.add(e.fallbackAttribute)}),Array.from(r)})(e,t).forEach(t=>{let{hashValue:n}=eO(e,t);r[t]=G(n)}),r}(e,r);return t.getAllAssignments(n)}async function eL(e,t,r){if((e={...e}).encryptedFeatures){try{e.features=JSON.parse(await j(e.encryptedFeatures,t,r))}catch(e){console.error(e)}delete e.encryptedFeatures}if(e.encryptedExperiments){try{e.experiments=JSON.parse(await j(e.encryptedExperiments,t,r))}catch(e){console.error(e)}delete e.encryptedExperiments}if(e.encryptedSavedGroups){try{e.savedGroups=JSON.parse(await j(e.encryptedSavedGroups,t,r))}catch(e){console.error(e)}delete e.encryptedSavedGroups}return e}let eR="undefined"!=typeof window&&"undefined"!=typeof document,eF=function(){let e;try{e="1.3.1"}catch(t){e=""}return e}();class eV{constructor(e){if(e=e||{},this.version=eF,this._options=this.context=e,this._renderer=e.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!e.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._attributeOverrides={},this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!e.disableExperimentsOnLoad,this.log=this.log.bind(this),this._track=this._track.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._trackFeatureUsage=this._trackFeatureUsage.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),e.remoteEval){if(e.decryptionKey)throw Error("Encryption is not available for remoteEval");if(!e.clientKey)throw Error("Missing clientKey");let t=!1;try{t=!!new URL(e.apiHost||"").hostname.match(/growthbook\.io$/i)}catch(e){}if(t)throw Error("Cannot use remoteEval on GrowthBook Cloud")}else if(e.cacheKeyAttributes)throw Error("cacheKeyAttributes are only used for remoteEval");if(e.stickyBucketService){let t=e.stickyBucketService;this._saveStickyBucketAssignmentDoc=e=>t.saveAssignments(e)}if(e.features&&(this.ready=!0),eR&&e.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded"))),e.experiments&&(this.ready=!0,this._updateAllAutoExperiments()),this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let e in this._options.stickyBucketAssignmentDocs){let t=this._options.stickyBucketAssignmentDocs[e];t&&this._options.stickyBucketService.saveAssignments(t).catch(()=>{})}this.ready&&this.refreshStickyBuckets(this.getPayload())}async setPayload(e){this._payload=e;let t=await eL(e,this._options.decryptionKey);this._decryptedPayload=t,await this.refreshStickyBuckets(t),t.features&&(this._options.features=t.features),t.savedGroups&&(this._options.savedGroups=t.savedGroups),t.experiments&&(this._options.experiments=t.experiments,this._updateAllAutoExperiments()),this.ready=!0,this._render()}initSync(e){this._initialized=!0;let t=e.payload;if(t.encryptedExperiments||t.encryptedFeatures)throw Error("initSync does not support encrypted payloads");if(this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs)throw Error("initSync requires you to pass stickyBucketAssignmentDocs into the GrowthBook constructor");return this._payload=t,this._decryptedPayload=t,t.features&&(this._options.features=t.features),t.experiments&&(this._options.experiments=t.experiments,this._updateAllAutoExperiments()),this.ready=!0,ek(this,e),this}async init(e){if(this._initialized=!0,(e=e||{}).cacheSettings)Object.assign(Q,e.cacheSettings),Q.backgroundSync||eb();if(e.payload)return await this.setPayload(e.payload),ek(this,e),{success:!0,source:"init"};{let{data:t,...r}=await this._refresh({...e,allowStale:!0});return ek(this,e),await this.setPayload(t||{}),r}}async loadFeatures(e){e=e||{},await this.init({skipCache:e.skipCache,timeout:e.timeout,streaming:(this._options.backgroundSync??!0)&&(e.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(e){let t=await this._refresh({...e||{},allowStale:!1});t.data&&await this.setPayload(t.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return function(e){let t=e.apiHost||"https://cdn.growthbook.io";return{apiHost:t.replace(/\/*$/,""),streamingHost:(e.streamingHost||t).replace(/\/*$/,""),apiRequestHeaders:e.apiHostRequestHeaders,streamingHostRequestHeaders:e.streamingHostRequestHeaders}}(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(e){let{timeout:t,skipCache:r,allowStale:n,streaming:i}=e;if(!this._options.clientKey)throw Error("Missing clientKey");return en({instance:this,timeout:t,skipCache:r||this._options.disableCache,allowStale:n,backgroundSync:i??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(e){console.error("Failed to render",e)}}setFeatures(e){this._options.features=e,this.ready=!0,this._render()}async setEncryptedFeatures(e,t,r){let n=await j(e,t||this._options.decryptionKey,r);this.setFeatures(JSON.parse(n))}setExperiments(e){this._options.experiments=e,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(e,t,r){let n=await j(e,t||this._options.decryptionKey,r);this.setExperiments(JSON.parse(n))}async setAttributes(e){if(this._options.attributes=e,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(e){return this.setAttributes({...this._options.attributes,...e})}async setAttributeOverrides(e){if(this._attributeOverrides=e,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(e){if(this._options.forcedVariations=e||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(e){this._forcedFeatureValues=e,this._render()}async setURL(e){if(e!==this._options.url){if(this._options.url=e,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}}getAttributes(){return{...this._options.attributes,...this._attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(e){return this._subscriptions.add(e),()=>{this._subscriptions.delete(e)}}async _refreshForRemoteEval(){if(!this._options.remoteEval||!this._initialized)return;let e=await this._refresh({allowStale:!1});e.data&&await this.setPayload(e.data)}getAllResults(){return new Map(this._assigned)}destroy(){var e;this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,e=this,Z.forEach(t=>t.delete(e)),eR&&window._growthbook===this&&delete window._growthbook,this._activeAutoExperiments.forEach(e=>{e.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(e){this._renderer=e}forceVariation(e,t){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[e]=t,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(e){let{result:t}=eB(e,null,this._getEvalContext());return this._fireSubscriptions(e,t),t}triggerExperiment(e){return(this._triggeredExpKeys.add(e),this._options.experiments)?this._options.experiments.filter(t=>t.key===e).map(e=>this._runAutoExperiment(e)).filter(e=>null!==e):null}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this.getAttributes()}:this.getAttributes(),blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._forcedFeatureValues,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback?this._track:void 0,onFeatureUsage:this._options.onFeatureUsage?this._trackFeatureUsage:void 0}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack}}_runAutoExperiment(e,t){let r,n;let i=this._activeAutoExperiments.get(e);if(e.manual&&!this._triggeredExpKeys.has(e.key)&&!i)return null;let o=this._isAutoExperimentBlockedByContext(e);o?r=eI(this._getEvalContext(),e,-1,!1,""):({result:r,trackingCall:n}=eB(e,null,this._getEvalContext()),this._fireSubscriptions(e,r));let s=JSON.stringify(r.value);if(!t&&r.inExperiment&&i&&i.valueHash===s)return r;if(i&&this._undoActiveAutoExperiment(e),r.inExperiment){let t=J(e);if("redirect"===t&&r.value.urlRedirect&&e.urlPatterns){let t=e.persistQueryString?function(e,t){let r,n;try{r=new URL(e),n=new URL(t)}catch(e){return console.error(`Unable to merge query strings: ${e}`),t}return r.searchParams.forEach((e,t)=>{if(!n.searchParams.has(t))n.searchParams.set(t,e)}),n.toString()}(this._getContextUrl(),r.value.urlRedirect):r.value.urlRedirect;if($(t,e.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:e.key}),r;this._redirectedUrl=t;let{navigate:i,delay:o}=this._getNavigateFunction();if(i){if(eR)Promise.all([...n?[z(n,this._options.maxNavigateDelay??1e3)]:[],new Promise(e=>window.setTimeout(e,this._options.navigateDelay??o))]).then(()=>{try{i(t)}catch(e){console.error(e)}});else try{i(t)}catch(e){console.error(e)}}}else if("visual"===t){let t=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(r.value):this._applyDOMChanges(r.value);t&&this._activeAutoExperiments.set(e,{undo:t,valueHash:s})}}return r}_undoActiveAutoExperiment(e){let t=this._activeAutoExperiments.get(e);t&&(t.undo(),this._activeAutoExperiments.delete(e))}_updateAllAutoExperiments(e){if(!this._autoExperimentsAllowed)return;let t=this._options.experiments||[],r=new Set(t);for(let n of(this._activeAutoExperiments.forEach((e,t)=>{!r.has(t)&&(e.undo(),this._activeAutoExperiments.delete(t))}),t)){let t=this._runAutoExperiment(n,e);if(null!=t&&t.inExperiment&&"redirect"===J(n))break}}_fireSubscriptions(e,t){let r=e.key,n=this._assigned.get(r);(!n||n.result.inExperiment!==t.inExperiment||n.result.variationId!==t.variationId)&&(this._assigned.set(r,{experiment:e,result:t}),this._subscriptions.forEach(r=>{try{r(e,t)}catch(e){console.error(e)}}))}_recordChangedId(e){this._completedChangeIds.add(e)}_trackFeatureUsage(e,t){let r=JSON.stringify(t.value);if(this._trackedFeatures[e]!==r&&(this._trackedFeatures[e]=r,this._options.onFeatureUsage))try{this._options.onFeatureUsage(e,t)}catch(e){}}isOn(e){return this.evalFeature(e).on}isOff(e){return this.evalFeature(e).off}getFeatureValue(e,t){let r=this.evalFeature(e).value;return null===r?t:r}feature(e){return this.evalFeature(e)}evalFeature(e){return ex(e,this._getEvalContext())}log(e,t){this.debug&&(this._options.log?this._options.log(e,t):console.log(e,t))}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(e){this._deferredTrackingCalls=new Map(e.filter(e=>e&&e.experiment&&e.result).map(e=>[this._getTrackKey(e.experiment,e.result),e]))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;let e=[];this._deferredTrackingCalls.forEach(t=>{t&&t.experiment&&t.result?e.push(this._track(t.experiment,t.result)):console.error("Invalid deferred tracking call",{call:t})}),this._deferredTrackingCalls.clear(),await Promise.all(e)}setTrackingCallback(e){this._options.trackingCallback=e,this.fireDeferredTrackingCalls()}_getTrackKey(e,t){return t.hashAttribute+t.hashValue+e.key+t.variationId}_saveDeferredTrack(e){this._deferredTrackingCalls.set(this._getTrackKey(e.experiment,e.result),e)}async _track(e,t){if(!this._options.trackingCallback)return;let r=this._getTrackKey(e,t);if(!this._trackedExperiments.has(r)){this._trackedExperiments.add(r);try{await this._options.trackingCallback(e,t)}catch(e){console.error(e)}}}_getContextUrl(){return this._options.url||(eR?window.location.href:"")}_isAutoExperimentBlockedByContext(e){let t=J(e);if("visual"===t){if(this._options.disableVisualExperiments||this._options.disableJsInjection&&e.variations.some(e=>e.js))return!0}else{if("redirect"!==t)return!0;if(this._options.disableUrlRedirectExperiments)return!0;try{let t=new URL(this._getContextUrl());for(let r of e.variations){if(!r||!r.urlRedirect)continue;let e=new URL(r.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments&&(e.protocol!==t.protocol||e.host!==t.host))return!0}}catch(t){return this.log("Error parsing current or redirect URL",{id:e.key,error:t}),!0}}return!!(e.changeId&&(this._options.blockedChangeIds||[]).includes(e.changeId))||!1}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){return this._options.navigate?{navigate:this._options.navigate,delay:0}:eR?{navigate:e=>{window.location.replace(e)},delay:100}:{navigate:null,delay:0}}_applyDOMChanges(e){if(!eR)return;let t=[];if(e.css){let r=document.createElement("style");r.innerHTML=e.css,document.head.appendChild(r),t.push(()=>r.remove())}if(e.js){let r=document.createElement("script");r.innerHTML=e.js,this._options.jsInjectionNonce&&(r.nonce=this._options.jsInjectionNonce),document.head.appendChild(r),t.push(()=>r.remove())}return e.domMutations&&e.domMutations.forEach(e=>{t.push(M.declarative(e).revert)}),()=>{t.forEach(e=>e())}}async refreshStickyBuckets(e){if(this._options.stickyBucketService){let t=this._getEvalContext(),r=await eM(t,this._options.stickyBucketService,e);this._options.stickyBucketAssignmentDocs=r}}}var eU=r("971"),e$=(0,eU.Z)("growthBook"),eK=()=>({id:"foo",path:window.location.pathname,host:window.location.host,query:window.location.search,publication:window.SPARK.PUBLICATION}),ej=e=>(!n&&(n=new eV({enableDevMode:(null==e?void 0:e.environment)!=="prod"||window.SPARK.debug,attributes:eK()})),e&&(n.initSync({payload:e.payload}),e$.info("GrowthBook client SDK initialized")),n);function eG(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}var eH=(0,eU.Z)("useConsent"),eq=e=>new Promise(t=>{try{var r=window.__cmp("getCMPData").vendorConsents[e];t(r||!1),window.addEventListener("load",()=>{window.__cmp("addEventListener",["consent",function(){var r,n=(r=function*(r,n,i){eH.info("CMP",r,n,i,window.__cmp("getCMPData"));var o=yield window.__cmp("getCMPData").vendorConsents[e];t(o||!1)},function(){var e=this,t=arguments;return new Promise(function(n,i){var o=r.apply(e,t);function s(e){eG(o,n,i,s,a,"next",e)}function a(e){eG(o,n,i,s,a,"throw",e)}s(void 0)})});return function(e,t,r){return n.apply(this,arguments)}}(),!1],null)})}catch(e){eH.error(e)}}),eJ=e=>eq(e),ez=(0,eU.Z)("EventBus"),eQ=()=>{var e={},t=(e,t)=>{var n=e.split("."),i="";n.forEach(e=>{r(i=""===i?e:i+"."+e,t)})},r=(t,r)=>{if(!!e[t])e[t].forEach(e=>{e(void 0!==r?r:{})})};return{subscribe:(t,r)=>{!e[t]&&(e[t]=[]);var n=e[t].push(r)-1;return{remove:()=>{delete e[t][n]}}},unsubscribe:(t,r)=>{ez.info("unsubscribe: ",t,r),e[t]=e[t].filter(e=>e!==r)},publish:(e,r)=>{ez.info("publish: ",e,r),e.split(",").forEach(e=>{t(e,r)})}}},eW=r("7438");function eZ(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}var eY=(0,eU.Z)("client.ts"),eX=function(){var e,t=(e=function*(e){var{moduleId:t,cmpVendorId:n}=e.dataset;try{var i=t?t.split(",").map(e=>e.trim()):[];if(!(!n||(yield eJ(n)))){eY.info("Not loading modules for domModule with cmpVendorId ".concat(n,". Consent required. ").concat(window.location.href,"?cmpscreen"));return}for(var o of i){eY.info("Initiating loading of ".concat(o),n?"with cmpVendorId ".concat(n):"");var s=yield r(9302)("./"+o.replace("Module",".module.ts"));s[o]?s[o](e):eY.warn("Module ".concat(o," not found or not exported properly."))}}catch(e){eY.error(e)}},function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){eZ(o,n,i,s,a,"next",e)}function a(e){eZ(o,n,i,s,a,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}(),e1=()=>{for(var e of(window.SPARK=window.SPARK||{},window.SPARK.bus=eQ(),window.GrowthBook=ej(window.SPARK.growthbook),document.querySelectorAll("[data-module-id]")))eX(e);window.SPARK.bus.subscribe(eW.P.INIT_MODULE,e=>{var{domModule:t}=e;t&&eX(t)})};"complete"===document.readyState||"interactive"===document.readyState?e1():document.addEventListener("DOMContentLoaded",e1)})()})();